<!DOCTYPE html>
<html><head>
	<title>Summation</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<style type="text/css">
    @import url('https://fonts.googleapis.com/css?family=Inconsolata');

    @font-face {
      font-family: 'HP15CWebFont';
      src: local('HP15C Simulator Font'),
           url('../fonts/HP-15C_Simulator_Font.ttf');
    }

    body {
      font-family: Helvetica, Arial, sans-serif;
    }

    code {
      font-size: 1.2em;
    }

    pre {
      font-size: 1.2em;
      background-color: #F4F4F4;
      margin-left: 20px;
      padding: 10px;
      display: inline-block;
    }

    .HP15CTblLayout {
      empty-cells: show;
      border-collapse: collapse;
      margin-left: 20px;
      margin-top: 0.5em;
      margin-bottom: 1em;
      border: none;
    }

    .HP15CTblHead {
      font-family: Helvetica, Arial, sans-serif;
      text-align: left;
      vertical-align: middle;
      white-space:nowrap;
      color: #000000;
      background-color: #D0D0D0;
      padding: 0.2em;
      padding-left: 0.5em;
      padding-right: 0.5em;
      border-color: black;
      border-width: 1px;
      border-style: solid;
    }

    .HP15CTblHeadEmpty {
      padding-left: 0.5em;
      border: none;
    }

    .HP15CTblLeft {
      font-family: Helvetica, Arial, sans-serif;
      font-weight: normal;
      text-align: left;
      vertical-align: middle;
      padding-left: 5px;
      padding-right: 5px;
      border-color: black;
      border-width: 1px;
      border-style: solid;
    }

    .HP15CTblCentered {
      font-family: Helvetica, Arial, sans-serif;
      text-align: center;
      vertical-align: middle;
      border-color: black;
      border-width: 1px;
      border-style: solid;
    }

    .HP15CTblRight {
      font-family: Helvetica, Arial, sans-serif;
      font-weight: normal;
      text-align: right;
      vertical-align: middle;
      padding-left: 5px;
      padding-right: 5px;
      border-color: black;
      border-width: 1px;
      border-style: solid;
    }

    .HP15CTblRightCode {
      font-family: HP15CWebFont, Inconsolata, Courier, monospace;
      font-weight: normal;
      font-size: 1.25em;
      text-align: right;
      vertical-align: middle;
      padding-left: 5px;
      padding-right: 5px;
      border-color: black;
      border-width: 1px;
      border-style: solid;
    }

    .HP15CRegister {
      font-family: Times, serif;
      font-size:  0.9em;
      font-weight: bold;
    }

    .HP15CKey {
      color: white;
      background-color: #454545;
    }

    .HP15CBWKey {
      border-color: black;
      border-width: 1px;
      border-style: solid;
    }

    .HP15CfKeyLabel {
      color: #E1A83E;
      background-color: #454545;
    }

    .HP15CgKeyLabel {
      color: #6CB7BD;
      background-color: #454545;
    }

    .HP15CKey, .HP15CBWKey, .HP15CfKeyLabel, .HP15CgKeyLabel {
      font-family: Helvetica, Arial, sans-serif;
      font-weight: bold;
      font-size: 0.9em;
      font-style: normal;
      text-align: center;
      padding-top: 0.1em;
      padding-left: 3px;
      padding-right: 3px;
      border-radius: 4px;
      display: inline-block;
      min-width: 2.1em;
    }

    .HP15CfKey {
      background-color:  #E1A83E;
    }

    .HP15CgKey {
      background-color:  #6CB7BD;
    }

    .HP15CBWfgKey {
      border-color: black;
      border-width: 1px;
      border-style: solid;
    }

    .HP15CfKey, .HP15CgKey, .HP15CBWfgKey {
      font-family: Helvetica, Arial, sans-serif;
      font-weight: bold;
      font-size: 0.9em;
      color:  black;
      text-align: center;
      padding-top: 0.1em;
      padding-left: 6px;
      padding-right: 6px;
      border-radius: 4px;
      display: inline-block;
      min-width: 0.6em;
    }

    .HP15CindentSeq {
      margin-left: 1.65em;
    }
</style>
</head>

<body>
<h1>Summation Program</h1>
<h2>Description</h2>
By Eddie Shore, November 2011 (<a href="https://edspi31415.blogspot.com/2011/11/sum-this-program-computes-sum-r0-x-r1.html">Eddie's Math and Calculator Blog</a>)<br>
<br>
This program computes the sum:<br>
<br>
<span class="HP15CRegister">R</span><sub>0</sub> = ∑( X = R1, R2, <em>f</em>(R1))<br>
<br>
where:<br>
<span class="HP15CRegister">R</span><sub>0</sub> = the sum<br>
<span class="HP15CRegister">R</span><sub>1</sub> = starting value, which gets updated at each step. <span class="HP15CRegister">R</span><sub>1</sub> is also used as the variable for <em>f</em>(X)<br>
<span class="HP15CRegister">R</span><sub>2</sub> = finishing value<br>
<br>
The program uses three labels:<br>
<br>
Label A: The main routine. Press <span class="HP15CfKey">f</span> <span class="HP15CfKeyLabel">A</span> to run the routine.<br>
Label 1: A subroutine of Label A. This is the loop.<br>
Label 0: Where the function <em>f</em>(X) is stored. Assume that <span class="HP15CRegister">R</span><sub>1</sub> is loaded on the <span class="HP15CRegister">X</span> register when programming the function.<br>
<br>
The program presented here will allow the user to enter starting and ending values beyond 999. You can shorten the program by the use of ISG, however, the ending value would be restricted to 999.<br>
<br>
Instructions:<ol>
<li>Enter the main program (Labels A and 1).</li>
<li>Enter the function <em>f</em>(<span class="HP15CRegister">R</span><sub>1</sub>) (Label 0).</li>
<li>In run mode, enter the starting value and press <span class="HP15CKey">ENTER</span></li>
<li>Enter the ending value and press <span class="HP15CfKey">f</span> <span class="HP15CfKeyLabel">A</span></li>
<li>The sum is calculated and displayed.</li>
</ol>
Remember: Always finish the function with the RTN command (<span class="HP15CgKey">g</span> <span class="HP15CgKeyLabel">RTN</span>).<br>
<br>
<strong>Example 1:</strong><br>
<br>
Find the sum ∑(X = 1, 50, X). In other words, what is the sum of the integers from 1 to 50?<br>
<br>
Program listing for <em>f</em>(<span class="HP15CRegister">R</span><sub>1</sub>):<br>
<pre>
     Key Code     Key
001  42  21   0   LBL 0
002      43  32   RTN
</pre>Surprised? Remember we already have a copy of <span class="HP15CRegister">R</span><sub>1</sub> in the main program when the instruction <span class="HP15CKey">GSB</span> 0 is encountered.<br>
<br>
1 <span class="HP15CKey">ENTER</span> 50 <span class="HP15CfKey">f</span> <span class="HP15CfKeyLabel">A</span><br>
Result: 1275<br>
<br>
<strong>Example 2:</strong><br>
<br>
Find the sum ∑(X = 1, 150, 1/(X<sup>2</sup> + X)).<br>
<br>
<code>1/(X<sup>2</sup> + X)</code> can be rewritten as: <code>(X<sup>2</sup> + X)<sup>-1</sup></code> = <code>((X + 1) X)<sup>-1</sup></code>. We will use the last form for our function.<br>
<br>
A Way to Clear Label 0<br>
Clear Label 0 is necessary. In Run mode, press <span class="HP15CKey">GTO</span> 0. Then press <span class="HP15CgKey">g</span> <span class="HP15CgKeyLabel">P/R</span> to enter program mode. Press <span class="HP15CKey">SST</span> until the key codes "43 32" is encountered. Press the backspace button the number of times you pressed <span class="HP15CKey">SST</span>. You should see the key code "42, 21, 0". You are ready to enter the new function.<br>
<br>
Program Listing for <em>f</em>(<span class="HP15CRegister">R</span><sub>1</sub>):<br>
<pre>
     Key Code    Key
001  42  21  0   LBL 0
002         36   ENTER
003          1   1
004         40   +
005         20   ×
006         15   1/x
007     43  32   RTN
</pre><br>
1 <span class="HP15CKey">ENTER</span> 150 <span class="HP15CfKey">f</span> <span class="HP15CfKeyLabel">A</span><br>
Result: ≈ 0.9934<br>
<h2>Program Resources</h2>
<h3>Labels</h3>
<table class="HP15CTblLayout">
<colgroup>
<col style="width: 4em;">
<col style="width: 70.5em;">
<col style="width: 0.5em;">
</colgroup>
<thead>
<tr>
<th class="HP15CTblHead">Name</th>
<th class="HP15CTblHead">Description</th>
<th class="HP15CTblHeadEmpty"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="HP15CTblCentered"> A</td>
<td class="HP15CTblLeft">Summation</td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered"> 0</td>
<td class="HP15CTblLeft">User function</td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered"> 1</td>
<td class="HP15CTblLeft">Loop starts here</td>
<td class="HP15CTblEmpty"></td>
</tr>
</tbody>
</table>
<h3>Storage Registers</h3>
<table class="HP15CTblLayout">
<colgroup>
<col style="width: 4em;">
<col style="width: 70.5em;">
<col style="width: 0.5em;">
</colgroup>
<thead>
<tr>
<th class="HP15CTblHead">Name</th>
<th class="HP15CTblHead">Description</th>
<th class="HP15CTblHeadEmpty"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="HP15CTblCentered"> 0</td>
<td class="HP15CTblLeft">total</td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered"> 1</td>
<td class="HP15CTblLeft">starting value</td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered"> 2</td>
<td class="HP15CTblLeft">ending value</td>
<td class="HP15CTblEmpty"></td>
</tr>
</tbody>
</table>
<h2>Program</h2>
<table class="HP15CTblLayout">
<colgroup>
<col style="width: 3.5em;">
<col style="width: 7em;">
<col style="width: 14em;">
<col style="width: 0.5em;">
</colgroup>
<thead>
<tr>
<th class="HP15CTblHead">Line</th>
<th class="HP15CTblHead">Display</th>
<th class="HP15CTblHead">Key Sequence</th>
<th class="HP15CTblHeadEmpty"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="HP15CTblCentered">000</td>
<td class="HP15CTblRightCode">         </td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">001</td>
<td class="HP15CTblRightCode"> 42,21,11</td>
<td class="HP15CTblLeft"><span class="HP15CfKey">f</span> <span class="HP15CfKeyLabel">LBL</span> <span class="HP15CfKeyLabel">A</span> </td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">002</td>
<td class="HP15CTblRightCode">        0</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">0</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">003</td>
<td class="HP15CTblRightCode">     44 0</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">STO</span> <span class="HP15CKey">0</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">004</td>
<td class="HP15CTblRightCode">       33</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">R⬇</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">005</td>
<td class="HP15CTblRightCode">     44 2</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">STO</span> <span class="HP15CKey">2</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">006</td>
<td class="HP15CTblRightCode">       33</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">R⬇</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">007</td>
<td class="HP15CTblRightCode">     44 1</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">STO</span> <span class="HP15CKey">1</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">008</td>
<td class="HP15CTblRightCode"> 42,21, 1</td>
<td class="HP15CTblLeft"><span class="HP15CfKey">f</span> <span class="HP15CfKeyLabel">LBL</span> <span class="HP15CKey">1</span> </td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">009</td>
<td class="HP15CTblRightCode">     45 1</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">RCL</span> <span class="HP15CKey">1</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">010</td>
<td class="HP15CTblRightCode">     32 0</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">GSB</span> <span class="HP15CKey">0</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">011</td>
<td class="HP15CTblRightCode"> 44,40, 0</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">STO</span> <span class="HP15CKey">+</span> <span class="HP15CKey">0</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">012</td>
<td class="HP15CTblRightCode">        1</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">1</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">013</td>
<td class="HP15CTblRightCode"> 44,40, 1</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">STO</span> <span class="HP15CKey">+</span> <span class="HP15CKey">1</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">014</td>
<td class="HP15CTblRightCode">     45 2</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">RCL</span> <span class="HP15CKey">2</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">015</td>
<td class="HP15CTblRightCode">     45 1</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">RCL</span> <span class="HP15CKey">1</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">016</td>
<td class="HP15CTblRightCode">    43 10</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CgKey">g</span> <span class="HP15CgKeyLabel">x&le;y</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">017</td>
<td class="HP15CTblRightCode">     22 1</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">GTO</span> <span class="HP15CKey">1</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">018</td>
<td class="HP15CTblRightCode">     45 0</td>
<td class="HP15CTblLeft"><span class="HP15CindentSeq"><span class="HP15CKey">RCL</span> <span class="HP15CKey">0</span></span></td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">019</td>
<td class="HP15CTblRightCode">    43 32</td>
<td class="HP15CTblLeft"><span class="HP15CgKey">g</span> <span class="HP15CgKeyLabel">RTN</span> </td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">020</td>
<td class="HP15CTblRightCode"> 42,21, 0</td>
<td class="HP15CTblLeft"><span class="HP15CfKey">f</span> <span class="HP15CfKeyLabel">LBL</span> <span class="HP15CKey">0</span> </td>
<td class="HP15CTblEmpty"></td>
</tr>
<tr>
<td class="HP15CTblCentered">021</td>
<td class="HP15CTblRightCode">    43 32</td>
<td class="HP15CTblLeft"><span class="HP15CgKey">g</span> <span class="HP15CgKeyLabel">RTN</span> </td>
<td class="HP15CTblEmpty"></td>
</tr>
</tbody>
</table>
