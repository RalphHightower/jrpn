<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="model library API docs, for the Dart programming language.">
  <title>model library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="../static-assets/github.css?v1">
  <link rel="stylesheet" href="../static-assets/styles.css?v1">
  <link rel="icon" href="../static-assets/favicon.png?v1">

  
</head>


<body data-base-href="../" data-using-base-href="false" class="light-theme">

<div id="overlay-under-drawer"></div>

<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../index.html">jrpn</a></li>
    <li class="self-crumb">model library</li>
  </ol>
  <div class="self-name">model</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <div class="toggle" id="theme-button">
    <label for="theme">
      <input type="checkbox" id="theme" value="light-theme">
      <span class="material-symbols-outlined">
        brightness_4
      </span>
    </label>
  </div>
</header>
<main>

  <div id="dartdoc-main-content" class="main-content">
    
      <div>
<h1><span class="kind-library">model</span> library 
    <a href="https://dart.dev/null-safety" class="feature feature-null-safety" title="Supports the null safety language feature.">Null safety</a>
 
</h1></div>

    
<section class="desc markdown">
  <p>The model for the calculator, centered around <a href="../model/Model-class.html">Model</a>.  It retains the
state of the calculator, most of which is saved persistently.  It
also functions as a helper to the controller, by providing states
using the state pattern for calculator modes, like the <a href="../model/DisplayMode-class.html">DisplayMode</a>
and the <a href="../model/SignMode-class.html">SignMode</a>.  The overall structure looks like this:</p><br>
<img src="dartdoc/model/model.svg" style="width: 100%;">
<br>
<br>
The [Model] has a [Memory], which is the 406 nybble storage that's
shared between [ProgramMemory] and [Registers].  Part of the model
is the [LcdContents], which holds the data that ultimately
gets displayed in the view's `LcdDisplay`.  The model is only loosely
coupled to the view, by making the display contents [Observable].
</section>


    <section class="summary offset-anchor" id="classes">
      <h2>Classes</h2>

      <dl>
        <dt id="Arg">
  <span class="name "><a href="../model/Arg-class.html">Arg</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="ArgAlternates">
  <span class="name "><a href="../model/ArgAlternates-class.html">ArgAlternates</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="ArgDone">
  <span class="name "><a href="../model/ArgDone-class.html">ArgDone</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="CalculatorError">
  <span class="name "><a href="../model/CalculatorError-class.html">CalculatorError</a></span> 

</dt>
<dd>
  An error that should result in "Error x" being displayed
on the LCD Display
</dd>

        <dt id="DebugLog">
  <span class="name "><a href="../model/DebugLog-class.html">DebugLog</a></span> 

</dt>
<dd>
  A memento of a calculator state, plus the keystrokes after the state
was captured.  It's meant to be a
tool to facilitate bug reports.
</dd>

        <dt id="DigitArg">
  <span class="name "><a href="../model/DigitArg-class.html">DigitArg</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="DisplayMode">
  <span class="name "><a href="../model/DisplayMode-class.html">DisplayMode</a></span> 

</dt>
<dd>
  Display mode and a bit more.  This selects between number base, float versus
integer, and complex versus normal.  The actual code is almost all
concerned with formatting and display, but this is also a convenient place
to select operations based on integer/float/complex mode.
</dd>

        <dt id="DisplayModel">
  <span class="name "><a href="../model/DisplayModel-class.html">DisplayModel</a></span> 

</dt>
<dd>
  A logical model of what's being displayed on the LCD display.
Handles flashing and blinking, and delayed display (like when
clear-prefix is released).
</dd>

        <dt id="DisplayModeSelector">
  <span class="name "><a href="../model/DisplayModeSelector-class.html">DisplayModeSelector</a><span class="signature">&lt;<wbr><span class="type-parameter">R</span>, <span class="type-parameter">A</span>&gt;</span></span> 

</dt>
<dd>
  Helper to select something based on whether the calculator's display
mode is one of the int modes, or float mode.  We
use a factory template to pull off dependency inversion between the
model (us) and the controller, for the sake of OO purity.
</dd>

        <dt id="DoubleWordStatus">
  <span class="name "><a href="../model/DoubleWordStatus-class.html">DoubleWordStatus</a></span> 

</dt>
<dd>
  An object for helping with the "double" integer functions, double multiply,
double divide and double remainder
</dd>

        <dt id="FixFloatFormatter">
  <span class="name "><a href="../model/FixFloatFormatter-class.html">FixFloatFormatter</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="FloatFormatter">
  <span class="name "><a href="../model/FloatFormatter-class.html">FloatFormatter</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="IntegerDisplayMode">
  <span class="name "><a href="../model/IntegerDisplayMode-class.html">IntegerDisplayMode</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="IntegerSignMode">
  <span class="name "><a href="../model/IntegerSignMode-class.html">IntegerSignMode</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="KeyArg">
  <span class="name "><a href="../model/KeyArg-class.html">KeyArg</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="KeysArg">
  <span class="name "><a href="../model/KeysArg-class.html">KeysArg</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="LabelArg">
  <span class="name "><a href="../model/LabelArg-class.html">LabelArg</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="LcdContents">
  <span class="name "><a href="../model/LcdContents-class.html">LcdContents</a></span> 

</dt>
<dd>
  A comparable data holder for the contents of what is displayed on the LCD
</dd>

        <dt id="Memory">
  <span class="name "><a href="../model/Memory-class.html">Memory</a><span class="signature">&lt;<wbr><span class="type-parameter">OT extends <a href="../model/ProgramOperation-class.html">ProgramOperation</a></span>&gt;</span></span> 

</dt>
<dd>
  The calculator's internal memory that holds registers and
programs.
</dd>

        <dt id="MemoryPolicy">
  <span class="name "><a href="../model/MemoryPolicy-class.html">MemoryPolicy</a></span> 

</dt>
<dd>
  Controls the policy around memory allocation
</dd>

        <dt id="MKey">
  <span class="name "><a href="../model/MKey-class.html">MKey</a><span class="signature">&lt;<wbr><span class="type-parameter">OT extends <a href="../model/ProgramOperation-class.html">ProgramOperation</a></span>&gt;</span></span> 

</dt>
<dd>
  The model's view of a key on the keyboard.  The model needs to know where
<a href="../model/ProgramOperation-class.html">ProgramOperation</a>s are on the portrait layout of the keyboard, because
they are displayed on the LCD display as row-column numbers.
</dd>

        <dt id="MKeyExtensionOp">
  <span class="name "><a href="../model/MKeyExtensionOp-class.html">MKeyExtensionOp</a><span class="signature">&lt;<wbr><span class="type-parameter">OT extends <a href="../model/ProgramOperation-class.html">ProgramOperation</a></span>&gt;</span></span> 

</dt>
<dd>
  
</dd>

        <dt id="Model">
  <span class="name "><a href="../model/Model-class.html">Model</a><span class="signature">&lt;<wbr><span class="type-parameter">OT extends <a href="../model/ProgramOperation-class.html">ProgramOperation</a></span>&gt;</span></span> 

</dt>
<dd>
  Our model, the main entry point to this module.  See the library-level
documentation for a description, and an explanation of the model's
structure.  Extended by Model15 and Model16.
</dd>

        <dt id="ModelSnapshot">
  <span class="name "><a href="../model/ModelSnapshot-class.html">ModelSnapshot</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="MProgramRunner">
  <span class="name "><a href="../model/MProgramRunner-class.html">MProgramRunner</a></span> 

</dt>
<dd>
  The model's view of the thing that runs a program.
</dd>

        <dt id="NumStatus">
  <span class="name "><a href="../model/NumStatus-class.html">NumStatus</a></span> 

</dt>
<dd>
  A bit of interface segregation:  A reduced API of just the stuff
int operations need from the model.  This comes in handy for the
double operations, and for dealing with the I register.  I is always
68 bits long, regardless of the calculator's current word size.
</dd>

        <dt id="NumStatus68">
  <span class="name "><a href="../model/NumStatus68-class.html">NumStatus68</a></span> 

</dt>
<dd>
  A helper for the index register, which is always stored as a 68 bit
quantity, regardless of the calculator mode.
</dd>

        <dt id="Observable">
  <span class="name "><a href="../model/Observable-class.html">Observable</a><span class="signature">&lt;<wbr><span class="type-parameter">T</span>&gt;</span></span> 

</dt>
<dd>
  A pretty bog-standard observable.  Odd that Dart doesn't have one in
the core library.
</dd>

        <dt id="OperationMap">
  <span class="name "><a href="../model/OperationMap-class.html">OperationMap</a><span class="signature">&lt;<wbr><span class="type-parameter">OT extends <a href="../model/ProgramOperation-class.html">ProgramOperation</a></span>&gt;</span></span> 

</dt>
<dd>
  A representation of all of the operations.  This is used by the model
to assign op codes and labels to <a href="../model/ProgramOperation-class.html">ProgramOperation</a>s.
</dd>

        <dt id="ProgramInstruction">
  <span class="name "><a href="../model/ProgramInstruction-class.html">ProgramInstruction</a><span class="signature">&lt;<wbr><span class="type-parameter">OT extends <a href="../model/ProgramOperation-class.html">ProgramOperation</a></span>&gt;</span></span> 

</dt>
<dd>
  An instruction in a program, consisting of a <a href="../model/ProgramOperation-class.html">ProgramOperation</a> and
a keyboard argument value.
</dd>

        <dt id="ProgramListener">
  <span class="name "><a href="../model/ProgramListener-class.html">ProgramListener</a></span> 

</dt>
<dd>
  A listener that receives callbacks when a program delivers results
to the user.
</dd>

        <dt id="ProgramMemory">
  <span class="name "><a href="../model/ProgramMemory-class.html">ProgramMemory</a><span class="signature">&lt;<wbr><span class="type-parameter">OT extends <a href="../model/ProgramOperation-class.html">ProgramOperation</a></span>&gt;</span></span> 

</dt>
<dd>
  A representation of the calculator's 406 nybble data store as a list
of program instructions.  ProgramMemory takes over space from register
storage as needed.  We also keep the return stack for GSB instructions
here, and the current program line.
</dd>

        <dt id="ProgramOperation">
  <span class="name "><a href="../model/ProgramOperation-class.html">ProgramOperation</a></span> 

</dt>
<dd>
  The model's view of an operation.  This is extended by the controller's
Operation class.  The parts of Operation that are relevant to the model
are lifted into the model class ProgramOperation so that Model doesn't
depend on a controller class.  Model is parameterized by ProgramOperation
so that the controller can refer to members of Operation that are logically
part of the controller.
</dd>

        <dt id="RegisterReadArg">
  <span class="name "><a href="../model/RegisterReadArg-class.html">RegisterReadArg</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="Registers">
  <span class="name "><a href="../model/Registers-class.html">Registers</a></span> 

</dt>
<dd>
  A representation of the available memory as registers.  "Available memory"
is what's left over of the 406 nybble data store after the program's
storage is deducted.
</dd>

        <dt id="RegisterWriteArg">
  <span class="name "><a href="../model/RegisterWriteArg-class.html">RegisterWriteArg</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="SciFloatFormatter">
  <span class="name "><a href="../model/SciFloatFormatter-class.html">SciFloatFormatter</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="Settings">
  <span class="name "><a href="../model/Settings-class.html">Settings</a></span> 

</dt>
<dd>
  User settings that control the calculator's appearance or behavior
</dd>

        <dt id="ShiftKey">
  <span class="name "><a href="../model/ShiftKey-class.html">ShiftKey</a></span> 

</dt>
<dd>
  The state of which shift key was last pressed, if any.
</dd>

        <dt id="SignMode">
  <span class="name "><a href="../model/SignMode-class.html">SignMode</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="StackLiftingArgDone">
  <span class="name "><a href="../model/StackLiftingArgDone-class.html">StackLiftingArgDone</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="TrigMode">
  <span class="name "><a href="../model/TrigMode-class.html">TrigMode</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="Value">
  <span class="name "><a href="../model/Value-class.html">Value</a></span> 

</dt>
<dd>
  Immutable calculator value
</dd>

      </dl>
    </section>

    <section class="summary offset-anchor" id="mixins">
      <h2>Mixins</h2>

      <dl>
        <dt id="ShiftKeySelected">
  <span class="name "><a href="../model/ShiftKeySelected-mixin.html">ShiftKeySelected</a><span class="signature">&lt;<wbr><span class="type-parameter">T</span>&gt;</span></span> 

</dt>
<dd>
  Superclass for things that can be selected based on whether the f or
g key, or neither, has been pressed.  See ShiftKey.select.  It's a
little like the Visitor pattern - a tyepsafe way of avoiding a switch
statement on the shift key.
</dd>

      </dl>
    </section>





    <section class="summary offset-anchor" id="enums">
      <h2>Enums</h2>

      <dl>
        <dt id="BlinkMode">
  <span class="name "><a href="../model/BlinkMode.html">BlinkMode</a></span> 

</dt>
<dd>
  
</dd>

        <dt id="OrientationSetting">
  <span class="name "><a href="../model/OrientationSetting.html">OrientationSetting</a></span> 

</dt>
<dd>
  
</dd>

      </dl>
    </section>

    <section class="summary offset-anchor" id="typedefs">
      <h2>Typedefs</h2>

      <dl>
          
  <dt id="OpInitFunction" class="callable">
    <span class="name"><a href="../model/OpInitFunction.html">OpInitFunction</a></span><span class="signature">
      <span class="returntype parameter">= void Function<span class="signature">(<span class="parameter" id="param-resolved"><span class="type-annotation"><a href="../model/ArgDone-class.html">ArgDone</a></span> <span class="parameter-name">resolved</span>, </span><span class="parameter" id="param-arg">{<span>required</span> <span class="type-annotation"><a href="../model/ProgramOperation-class.html">ProgramOperation</a>?</span> <span class="parameter-name">arg</span>, </span><span class="parameter" id="param-argDot"><span>required</span> <span class="type-annotation"><a href="https://api.flutter.dev/flutter/dart-core/bool-class.html">bool</a></span> <span class="parameter-name">argDot</span>, </span><span class="parameter" id="param-shift"><span>required</span> <span class="type-annotation"><a href="../model/ProgramOperation-class.html">ProgramOperation</a>?</span> <span class="parameter-name">shift</span>, </span><span class="parameter" id="param-userMode"><span>required</span> <span class="type-annotation"><a href="https://api.flutter.dev/flutter/dart-core/bool-class.html">bool</a></span> <span class="parameter-name">userMode</span>}</span>)</span></span>
    </span>
    

  </dt>
  <dd>
    
    

  </dd>

      </dl>
    </section>


  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
  <li><a href="../index.html">jrpn</a></li>
  <li class="self-crumb">model library</li>
</ol>


    <h5><span class="package-name">jrpn</span> <span class="package-kind">package</span></h5>
    <ol>
      <li class="section-title">Libraries</li>
      <li><a href="../m_complex/m_complex-library.html">complex</a></li>
      <li><a href="../controller/controller-library.html">controller</a></li>
      <li><a href="../controller.operations/controller.operations-library.html">controller.operations</a></li>
      <li><a href="../controller.states/controller.states-library.html">controller.states</a></li>
      <li><a href="../jrpn15.back_panel/jrpn15.back_panel-library.html">jrpn15.back_panel</a></li>
      <li><a href="../jrpn15.linalg/jrpn15.linalg-library.html">jrpn15.linalg</a></li>
      <li><a href="../jrpn15.main/jrpn15.main-library.html">jrpn15.main</a></li>
      <li><a href="../jrpn15.matrix/jrpn15.matrix-library.html">jrpn15.matrix</a></li>
      <li><a href="../jrpn15.model15c/jrpn15.model15c-library.html">jrpn15.model15c</a></li>
      <li><a href="../jrpn15.more_math/jrpn15.more_math-library.html">jrpn15.more_math</a></li>
      <li><a href="../jrpn15.runners/jrpn15.runners-library.html">jrpn15.runners</a></li>
      <li><a href="../jrpn15.tests/jrpn15.tests-library.html">jrpn15.tests</a></li>
      <li><a href="../jrpn16.back_panel/jrpn16.back_panel-library.html">jrpn16.back_panel</a></li>
      <li><a href="../jrpn16.main/jrpn16.main-library.html">jrpn16.main</a></li>
      <li><a href="../jrpn16.tests/jrpn16.tests-library.html">jrpn16.tests</a></li>
      <li><a href="../main/main-library.html">main</a></li>
      <li><a href="../model/model-library.html">model</a></li>
      <li><a href="../view.back_panel/view.back_panel-library.html">view.back_panel</a></li>
      <li><a href="../view.buttons/view.buttons-library.html">view.buttons</a></li>
      <li><a href="../view.isw/view.isw-library.html">view.isw</a></li>
      <li><a href="../view.lcd_display/view.lcd_display-library.html">view.lcd_display</a></li>
      <li><a href="../view.main_screen/view.main_screen-library.html">view.main_screen</a></li>
</ol>

  </div>

  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
    <h5>model library</h5>
    <ol>
      <li class="section-title"><a href="../model/model-library.html#classes">Classes</a></li>
        <li><a href="../model/Arg-class.html">Arg</a></li>
        <li><a href="../model/ArgAlternates-class.html">ArgAlternates</a></li>
        <li><a href="../model/ArgDone-class.html">ArgDone</a></li>
        <li><a href="../model/CalculatorError-class.html">CalculatorError</a></li>
        <li><a href="../model/DebugLog-class.html">DebugLog</a></li>
        <li><a href="../model/DigitArg-class.html">DigitArg</a></li>
        <li><a href="../model/DisplayMode-class.html">DisplayMode</a></li>
        <li><a href="../model/DisplayModel-class.html">DisplayModel</a></li>
        <li><a href="../model/DisplayModeSelector-class.html">DisplayModeSelector</a></li>
        <li><a href="../model/DoubleWordStatus-class.html">DoubleWordStatus</a></li>
        <li><a href="../model/FixFloatFormatter-class.html">FixFloatFormatter</a></li>
        <li><a href="../model/FloatFormatter-class.html">FloatFormatter</a></li>
        <li><a href="../model/IntegerDisplayMode-class.html">IntegerDisplayMode</a></li>
        <li><a href="../model/IntegerSignMode-class.html">IntegerSignMode</a></li>
        <li><a href="../model/KeyArg-class.html">KeyArg</a></li>
        <li><a href="../model/KeysArg-class.html">KeysArg</a></li>
        <li><a href="../model/LabelArg-class.html">LabelArg</a></li>
        <li><a href="../model/LcdContents-class.html">LcdContents</a></li>
        <li><a href="../model/Memory-class.html">Memory</a></li>
        <li><a href="../model/MemoryPolicy-class.html">MemoryPolicy</a></li>
        <li><a href="../model/MKey-class.html">MKey</a></li>
        <li><a href="../model/MKeyExtensionOp-class.html">MKeyExtensionOp</a></li>
        <li><a href="../model/Model-class.html">Model</a></li>
        <li><a href="../model/ModelSnapshot-class.html">ModelSnapshot</a></li>
        <li><a href="../model/MProgramRunner-class.html">MProgramRunner</a></li>
        <li><a href="../model/NumStatus-class.html">NumStatus</a></li>
        <li><a href="../model/NumStatus68-class.html">NumStatus68</a></li>
        <li><a href="../model/Observable-class.html">Observable</a></li>
        <li><a href="../model/OperationMap-class.html">OperationMap</a></li>
        <li><a href="../model/ProgramInstruction-class.html">ProgramInstruction</a></li>
        <li><a href="../model/ProgramListener-class.html">ProgramListener</a></li>
        <li><a href="../model/ProgramMemory-class.html">ProgramMemory</a></li>
        <li><a href="../model/ProgramOperation-class.html">ProgramOperation</a></li>
        <li><a href="../model/RegisterReadArg-class.html">RegisterReadArg</a></li>
        <li><a href="../model/Registers-class.html">Registers</a></li>
        <li><a href="../model/RegisterWriteArg-class.html">RegisterWriteArg</a></li>
        <li><a href="../model/SciFloatFormatter-class.html">SciFloatFormatter</a></li>
        <li><a href="../model/Settings-class.html">Settings</a></li>
        <li><a href="../model/ShiftKey-class.html">ShiftKey</a></li>
        <li><a href="../model/SignMode-class.html">SignMode</a></li>
        <li><a href="../model/StackLiftingArgDone-class.html">StackLiftingArgDone</a></li>
        <li><a href="../model/TrigMode-class.html">TrigMode</a></li>
        <li><a href="../model/Value-class.html">Value</a></li>


      <li class="section-title"><a href="../model/model-library.html#mixins">Mixins</a></li>
        <li><a href="../model/ShiftKeySelected-mixin.html">ShiftKeySelected</a></li>




      <li class="section-title"><a href="../model/model-library.html#enums">Enums</a></li>
        <li><a href="../model/BlinkMode.html">BlinkMode</a></li>
        <li><a href="../model/OrientationSetting.html">OrientationSetting</a></li>

      <li class="section-title"><a href="../model/model-library.html#typedefs">Typedefs</a></li>
        <li><a href="../model/OpInitFunction.html">OpInitFunction</a></li>

</ol>

  </div><!--/sidebar-offcanvas-right-->

</main>

<footer>
  <span class="no-break">
    jrpn
      2.0.1+6
  </span>

  
</footer>



<script src="../static-assets/highlight.pack.js?v1"></script>
<script src="../static-assets/docs.dart.js"></script>



</body>

</html>

