<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="model library API docs, for the Dart programming language.">
  <title>model library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="../static-assets/github.css">
  <link rel="stylesheet" href="../static-assets/styles.css">
  <link rel="icon" href="../static-assets/favicon.png">

  
</head>


<body data-base-href="../"
      data-using-base-href="false">

<div id="overlay-under-drawer"></div>

<header id="title">
  <button id="sidenav-left-toggle" type="button">&nbsp;</button>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../index.html">jrpn</a></li>
    <li class="self-crumb">model library</li>
  </ol>
  <div class="self-name">model</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<main>


  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
  <li><a href="../index.html">jrpn</a></li>
  <li class="self-crumb">model library</li>
</ol>


    <h5><span class="package-name">jrpn</span> <span class="package-kind">package</span></h5>
    <ol>
      <li class="section-title">Libraries</li>
      <li><a href="../controller/controller-library.html">controller</a></li>
      <li><a href="../controller.operations/controller.operations-library.html">controller.operations</a></li>
      <li><a href="../controller.states/controller.states-library.html">controller.states</a></li>
      <li><a href="../generated_plugin_registrant/generated_plugin_registrant-library.html">generated_plugin_registrant</a></li>
      <li><a href="../main/main-library.html">main</a></li>
      <li><a href="../model/model-library.html">model</a></li>
      <li><a href="../view.buttons/view.buttons-library.html">view.buttons</a></li>
      <li><a href="../view.lcd_display/view.lcd_display-library.html">view.lcd_display</a></li>
      <li><a href="../view.main_screen/view.main_screen-library.html">view.main_screen</a></li>
</ol>

  </div>

  <div id="dartdoc-main-content" class="main-content">
      <div>
<h1><span class="kind-library">model</span> library 
    <a href="https://dart.dev/null-safety" class="feature feature-null-safety" title="Supports the null safety language feature.">Null safety</a>
 
</h1></div>

    
<section class="desc markdown">
  <p>The model for the calculator, centered around <a href="../model/Model-class.html">Model</a>.  It retains the
state of the calculator, most of which is saved persistently.  It
also functions as a helper to the controller, by providing states
using the state pattern for calculator modes, like the <a href="../model/DisplayMode-class.html">DisplayMode</a>
and the <a href="../model/SignMode-class.html">SignMode</a>.  The overall structure looks like this:</p><br>
<img src="dartdoc/model/model.svg" style="width: 100%;">
<br>
<br>
The [Model] has a [Memory], which is the 406 nybble storage that's
shared between [ProgramMemory] and [Registers].  Part of the model
is the [LcdContents], which holds the data that ultimately
gets displayed in the view's `LcdDisplay`.  The model is only loosely
coupled to the view, by making the display contents [Observable].
</section>


    <section class="summary offset-anchor" id="classes">
      <h2>Classes</h2>

      <dl>
        <dt id="CalculatorError">
  <span class="name "><a href="../model/CalculatorError-class.html">CalculatorError</a></span> 

</dt>
<dd>
  An error that should result in "Error x" being displayed
on the LCD Display 
</dd>

        <dt id="DebugLog">
  <span class="name "><a href="../model/DebugLog-class.html">DebugLog</a></span> 

</dt>
<dd>
  A memento of a calculator state, plus the keystrokes after the state
was captured.  It's meant to be a
tool to facilitate bug reports. 
</dd>

        <dt id="DisplayMode">
  <span class="name "><a href="../model/DisplayMode-class.html">DisplayMode</a></span> 

</dt>
<dd>
   
</dd>

        <dt id="DisplayModel">
  <span class="name "><a href="../model/DisplayModel-class.html">DisplayModel</a></span> 

</dt>
<dd>
  A logical model of what's being displayed on the LCD display.
Handles flashing and blinking, and delayed display (like when
clear-prefix is released). 
</dd>

        <dt id="DisplayModeSelector">
  <span class="name "><a href="../model/DisplayModeSelector-class.html">DisplayModeSelector</a><span class="signature">&lt;<wbr><span class="type-parameter">R</span>, <span class="type-parameter">A</span>&gt;</span></span> 

</dt>
<dd>
  Helper to select something based on whether the calculator's display
mode is one of the int modes, or float mode.  We
use a factory template to pull off dependency inversion between the
model (us) and the controller, for the sake of OO purity. <a href="../model/DisplayModeSelector-class.html">[...]</a>
</dd>

        <dt id="DoubleWordStatus">
  <span class="name "><a href="../model/DoubleWordStatus-class.html">DoubleWordStatus</a></span> 

</dt>
<dd>
  An object for helping with the "double" integer functions, double multiply,
double divide and double remainder 
</dd>

        <dt id="IntegerDisplayMode">
  <span class="name "><a href="../model/IntegerDisplayMode-class.html">IntegerDisplayMode</a></span> 

</dt>
<dd>
   
</dd>

        <dt id="IntegerSignMode">
  <span class="name "><a href="../model/IntegerSignMode-class.html">IntegerSignMode</a></span> 

</dt>
<dd>
   
</dd>

        <dt id="Key">
  <span class="name "><a href="../model/Key-class.html">Key</a><span class="signature">&lt;<wbr><span class="type-parameter">OT extends <a href="../model/ProgramOperation-class.html">ProgramOperation</a></span>&gt;</span></span> 

</dt>
<dd>
  The model's view of a key on the keyboard.  The model needs to know where
<a href="../model/ProgramOperation-class.html">ProgramOperation</a>s are on the portrait layout of the keyboard, because
they are displayed on the LCD display as row-column numbers. 
</dd>

        <dt id="LcdContents">
  <span class="name "><a href="../model/LcdContents-class.html">LcdContents</a></span> 

</dt>
<dd>
  A comparable data holder for the contents of what is displayed on the LCD 
</dd>

        <dt id="Memory">
  <span class="name "><a href="../model/Memory-class.html">Memory</a><span class="signature">&lt;<wbr><span class="type-parameter">OT extends <a href="../model/ProgramOperation-class.html">ProgramOperation</a></span>&gt;</span></span> 

</dt>
<dd>
  The calculator's 406 nybble internal memory that holds registers and
programs. 
</dd>

        <dt id="Model">
  <span class="name "><a href="../model/Model-class.html">Model</a><span class="signature">&lt;<wbr><span class="type-parameter">OT extends <a href="../model/ProgramOperation-class.html">ProgramOperation</a></span>&gt;</span></span> 

</dt>
<dd>
  Our model, the main entry point to this module.  See the library-level
documentation for a description, and an explanation of the model's
structure. 
</dd>

        <dt id="NumStatus">
  <span class="name "><a href="../model/NumStatus-class.html">NumStatus</a></span> 

</dt>
<dd>
  A bit of interface segregation:  A reduced API of just the stuff
int operations need from the model.  This comes in handy for the
double operations, and for dealing with the I register.  I is always
68 bits long, regardless of the calculator's current word size. 
</dd>

        <dt id="Observable">
  <span class="name "><a href="../model/Observable-class.html">Observable</a><span class="signature">&lt;<wbr><span class="type-parameter">T</span>&gt;</span></span> 

</dt>
<dd>
  A pretty bog-standard observable.  Odd that Dart doesn't have one in
the core library. 
</dd>

        <dt id="OperationMap">
  <span class="name "><a href="../model/OperationMap-class.html">OperationMap</a><span class="signature">&lt;<wbr><span class="type-parameter">OT extends <a href="../model/ProgramOperation-class.html">ProgramOperation</a></span>&gt;</span></span> 

</dt>
<dd>
  A representation of all of the operations.  This is used by the model
to assign op codes and labels to <a href="../model/ProgramOperation-class.html">ProgramOperation</a>s. 
</dd>

        <dt id="ProgramInstruction">
  <span class="name "><a href="../model/ProgramInstruction-class.html">ProgramInstruction</a><span class="signature">&lt;<wbr><span class="type-parameter">OT extends <a href="../model/ProgramOperation-class.html">ProgramOperation</a></span>&gt;</span></span> 

</dt>
<dd>
  An instruction in a program, consisting of a <a href="../model/ProgramOperation-class.html">ProgramOperation</a> and,
sometimes, an argument value. 
</dd>

        <dt id="ProgramListener">
  <span class="name "><a href="../model/ProgramListener-class.html">ProgramListener</a></span> 

</dt>
<dd>
  A listener that receives callbacks when a program delivers results
to the user.  This is used for testing. 
</dd>

        <dt id="ProgramMemory">
  <span class="name "><a href="../model/ProgramMemory-class.html">ProgramMemory</a><span class="signature">&lt;<wbr><span class="type-parameter">OT extends <a href="../model/ProgramOperation-class.html">ProgramOperation</a></span>&gt;</span></span> 

</dt>
<dd>
  A representation of the calculator's 406 nybble data store as a list
of program instructions.  ProgramMemory takes over space from register
storage as needed.  We also keep the return stack for GSB instructions
here, and the current program line. 
</dd>

        <dt id="ProgramOperation">
  <span class="name "><a href="../model/ProgramOperation-class.html">ProgramOperation</a></span> 

</dt>
<dd>
  The model's view of an operation. 
</dd>

        <dt id="Registers">
  <span class="name "><a href="../model/Registers-class.html">Registers</a></span> 

</dt>
<dd>
  A representation of the available memory as registers.  "Available memory"
is what's left over of the 406 nybble data store after the program's
storage is deducted. 
</dd>

        <dt id="Settings">
  <span class="name "><a href="../model/Settings-class.html">Settings</a></span> 

</dt>
<dd>
  User settings that control the calculator's appearance or behavior 
</dd>

        <dt id="ShiftKey">
  <span class="name "><a href="../model/ShiftKey-class.html">ShiftKey</a></span> 

</dt>
<dd>
  The state of which shift key was last pressed, if any. 
</dd>

        <dt id="SignMode">
  <span class="name "><a href="../model/SignMode-class.html">SignMode</a></span> 

</dt>
<dd>
   
</dd>

        <dt id="Value">
  <span class="name "><a href="../model/Value-class.html">Value</a></span> 

</dt>
<dd>
  Immutable calculator value <a href="../model/Value-class.html">[...]</a>
</dd>

      </dl>
    </section>

    <section class="summary offset-anchor" id="mixins">
      <h2>Mixins</h2>

      <dl>
        <dt id="ShiftKeySelected">
  <span class="name "><a href="../model/ShiftKeySelected-mixin.html">ShiftKeySelected</a><span class="signature">&lt;<wbr><span class="type-parameter">T</span>&gt;</span></span> 

</dt>
<dd>
  Superclass for things that can be selected based on whether the f or
g key, or neither, has been pressed.  See ShiftKey.select.  It's a
little like the Visitor pattern - a tyepsafe way of avoiding a switch
statement on the shift key. 
</dd>

      </dl>
    </section>








  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
    <h5>model library</h5>
    <ol>
  <li class="section-title"><a href="../model/model-library.html#classes">Classes</a></li>
  <li><a href="../model/CalculatorError-class.html">CalculatorError</a></li>
  <li><a href="../model/DebugLog-class.html">DebugLog</a></li>
  <li><a href="../model/DisplayMode-class.html">DisplayMode</a></li>
  <li><a href="../model/DisplayModel-class.html">DisplayModel</a></li>
  <li><a href="../model/DisplayModeSelector-class.html">DisplayModeSelector</a></li>
  <li><a href="../model/DoubleWordStatus-class.html">DoubleWordStatus</a></li>
  <li><a href="../model/IntegerDisplayMode-class.html">IntegerDisplayMode</a></li>
  <li><a href="../model/IntegerSignMode-class.html">IntegerSignMode</a></li>
  <li><a href="../model/Key-class.html">Key</a></li>
  <li><a href="../model/LcdContents-class.html">LcdContents</a></li>
  <li><a href="../model/Memory-class.html">Memory</a></li>
  <li><a href="../model/Model-class.html">Model</a></li>
  <li><a href="../model/NumStatus-class.html">NumStatus</a></li>
  <li><a href="../model/Observable-class.html">Observable</a></li>
  <li><a href="../model/OperationMap-class.html">OperationMap</a></li>
  <li><a href="../model/ProgramInstruction-class.html">ProgramInstruction</a></li>
  <li><a href="../model/ProgramListener-class.html">ProgramListener</a></li>
  <li><a href="../model/ProgramMemory-class.html">ProgramMemory</a></li>
  <li><a href="../model/ProgramOperation-class.html">ProgramOperation</a></li>
  <li><a href="../model/Registers-class.html">Registers</a></li>
  <li><a href="../model/Settings-class.html">Settings</a></li>
  <li><a href="../model/ShiftKey-class.html">ShiftKey</a></li>
  <li><a href="../model/SignMode-class.html">SignMode</a></li>
  <li><a href="../model/Value-class.html">Value</a></li>


  <li class="section-title"><a href="../model/model-library.html#mixins">Mixins</a></li>
  <li><a href="../model/ShiftKeySelected-mixin.html">ShiftKeySelected</a></li>






</ol>

  </div><!--/sidebar-offcanvas-right-->

</main>

<footer>
  <span class="no-break">
    jrpn
      1.0.0+1
  </span>

  
</footer>


<script src="../static-assets/highlight.pack.js"></script>
<script src="../static-assets/script.js"></script>



</body>

</html>

